<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>BMI</title>

    <script src="https://unpkg.com/vue@3"></script>

    <link rel="stylesheet" href="https://unpkg.com/modern-css-reset/dist/reset.min.css" />
    <style>

        body {
            color: #141313;
            background-color: white;;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #app {
            width: fit-content;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        #form {
            width: 150%;
            margin-top: 3rem;
            margin-bottom: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        label {
            display: block;
            width: 100%;
        }

        input {
            display: block;
            width: 100%;
            margin-top: 0.3rem;
        }

        #score {
            padding: 1rem 2rem;
            transition: all 1s ease;
        }

        #score.normal {
            color: #222222;
            background-color: rgb(23, 202, 92);
        }

        #score.mild {
            color: #222222;
            background-color: sandybrown;
        }

        #score.moderate {
            color: #222222;
            background-color: chocolate;
        }

        #score.severe {
            color: #dddddd;
            background-color: crimson;
        }

        #score > p {
            text-align: center;
        }
    </style>
</head>

<body>
    <div id="app">
        <h1>BMI Calculator</h1>

        <div id="form">
            <label>
                Waga:
                <input type="number" v-model.number="bodyParams.weight">
            </label>
            <label>
                Wysokość:
                <input type="number" v-model.number="bodyParams.height">
            </label>
        </div>
        <h2>Twój wskaźnik bmi: </h2>
        <section id="score"></section>
            
            <p>{{ bmi.score.toFixed(2) }}</p>
        </section>
    </div>

    <script>
        const { computed, createApp, reactive, ref, toRaw, watch } = Vue;

        createApp({
            setup() {
                const bodyParams = reactive({
                    weight: 87,
                    height: 169
                });

                const bmi = computed(() => {
                    const score = bodyParams.weight / (bodyParams.height / 100) ** 2;
                    return { score };
                });

                return {
                    bodyParams,
                    bmi
                };
            },
        }).mount('#app');
    </script>
</body>

</html>